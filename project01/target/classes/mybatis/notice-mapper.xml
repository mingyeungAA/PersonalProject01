<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mvc.mall.notice">

<select id="NoticeList" parameterType="NoticeDto" resultType="NoticeDto">
	SELECT NOTICE_NO, NOTICE_TITLE, NOTICE_WRITER, NOTICE_CONTENT, 
			NOTICE_VIEWER, TO_CHAR(NOTICE_REGDATE,'yyyy-MM-dd') AS NOTICE_REGDATE
	FROM NOTICE
	ORDER BY NOTICE_NO DESC
</select>

<select id="NoticeDetail" parameterType="int" resultType="NoticeDto">
	SELECT *
	FROM NOTICE
	WHERE NOTICE_NO = #{notice_no}
</select>

<insert id="NoticeInsert" parameterType="NoticeDto">
	INSERT INTO NOTICE
	VALUES(NOTICE_NO_SEQ.NEXTVAL, #{notice_title}, #{notice_wirter}, #{notice_content}, 0, SYSDATE)
</insert>

<update id="NoticeUpdate" parameterType="NoticeDto">
	UPDATE NOTICE
	SET NOTICE_TITLE = #{notice_title}, NOTICE_WRITER = #{notice_writer}, 
		NOTICE_CONTENT = #{notice_content}
	WHERE NOTICE_NO = #{notice_no}
</update>

<delete id="NoticeDelete" parameterType="NoticeDto">
	DELETE FROM NOTICE
	WHERE NOTICE_NO = #{notice_no}
</delete>

<!-- 조회수 -->
<update id="NoticeCountView" parameterType="int">
	UPDATE NOTICE
	SET NOTICE_VIEWER = NOTICE_VIEWER + 1
	WHERE NOTICE_NO = #{notice_no}
</update>

</mapper>
